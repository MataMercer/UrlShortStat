{"version":3,"sources":["reducers/urlReducer.ts","reducers/userReducer.ts","reducers/index.ts","store.ts","config/config.ts","actions/userActions.ts","components/AppNavbar.tsx","pages/Login.tsx","pages/Register.tsx","actions/urlActions.ts","components/CreateUrlForm.tsx","components/EditUrlForm.tsx","components/UrlAnalytics.tsx","components/UrlListItem.tsx","components/UrlList.tsx","pages/Dashboard.tsx","pages/Home.tsx","pages/About.tsx","pages/Settings.tsx","routes/PrivateRoute.tsx","routes/Routes.tsx","App.tsx","index.tsx","logotiny.png"],"names":["initialState","urls","urlCount","loading","errors","name","email","combineReducers","url","state","action","type","originalUrl","code","filter","console","log","error","user","payload","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","location","origin","axios","defaults","withCredentials","serverUrl","config","setUserError","Array","AppNavbar","isOpen","this","setState","AuthNavbar","withRouter","history","props","Nav","navbar","activeClassName","to","NavItem","onClick","startLogoutUser","then","push","Navbar","color","light","expand","id","NavbarBrand","className","src","logo","NavbarToggler","toggle","bind","Collapse","Component","connect","ownProps","dispatch","post","res","data","catch","response","message","toString","Login","password","onChange","e","target","value","onSubmit","a","async","preventDefault","length","startLoginUser","from","pathname","Container","Alert","map","index","Form","FormGroup","Label","for","Input","placeholder","Button","React","loginUser","Register","password2","startRegisterUser","registerUser","setUrlError","CreateUrlForm","customUrl","useCustomUrl","handleCheckboxChange","checked","newUrl","startCreateUrl","onToggleCreateUrlForm","Modal","showCreateUrlForm","ModalBody","ModalHeader","addon","aria-label","createUrl","EditUrlForm","startEditUrl","onToggleEditUrlForm","showEditUrlForm","Row","put","editUrl","moment","require","UrlAnalytics","chartRef","createRef","chart","undefined","timeSpanVisitCount","totalVisitCount","visitGrowth","unitsBackInTime","body","timeSpan","dataPointsRes","dataPoints","lowerBoundDate","upperBoundDate","format","currentDate","Date","date","getFullYear","getMonth","getDate","i","formattedDate","resFormattedDate","key","x","y","sort","b","myChartRef","current","getContext","datasets","label","backgroundColor","borderColor","fill","options","maintainAspectRatio","scales","xAxes","scaleLabel","display","labelString","getXAxisLabel","yAxes","ticks","beginAtZero","Chart","analytics","analyticsPrev","labelList","yList","getAnalytics","labels","getLabels","dateFormat","position","callback","split","xAxisID","yAxisID","getYData","growthPercent","update","Number","isNaN","initChart","prevProps","prevState","updateData","Col","size","onClickRefresh","stopPropagation","ref","UrlListItem","copied","onDeleteClick","startDeleteUrl","onEditClick","setEditingUrl","stopPropagationClick","fullUrl","createdAt","slice","text","onCopy","disabled","min","max","Spinner","delete","UrlList","editingUrl","componentDidMount","startGetUrls","ListGroup","get","urlsCount","count","Dashboard","Home","Jumbotron","About","href","Settings","showNameInput","showEmailInput","showPasswordInput","showDeleteModal","onInputChange","onClickToggleInput","currentTarget","onDeleteAccountClick","startDeleteUser","onSubmitAccountChanges","startEditUser","onToggleDeleteModal","md","fluid","editUser","component","Name","rest","render","Routes","TransitionGroup","CSSTransition","timeout","classNames","exact","path","App","startCheckUserSession","locationProps","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.95c12eda.chunk.js","sourcesContent":["import { AppActions, UrlActionTypes } from '../types/actions';\r\nimport { UrlState } from '../types/Url';\r\nconst initialState: UrlState = {\r\n\turls: [],\r\n\turlCount: 0,\r\n\tloading: false,\r\n\terrors: [],\r\n};\r\n\r\nexport default function(\r\n\tstate: UrlState = initialState,\r\n\taction: UrlActionTypes\r\n) {\r\n\tswitch (action.type) {\r\n\t\tcase 'URL_GET':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\turls: action.urls,\r\n\t\t\t\turlCount: action.urlCount,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terrors: []\r\n\t\t\t};\r\n\t\tcase 'URL_CREATE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\turls: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toriginalUrl: action.url.originalUrl,\r\n\t\t\t\t\t\tcode: action.url.code,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...state.urls,\r\n\t\t\t\t],\r\n\t\t\t\turlCount: state.urlCount + 1,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terrors: []\r\n\t\t\t};\r\n\t\tcase 'URL_EDIT':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\turls: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toriginalUrl: action.url.originalUrl,\r\n\t\t\t\t\t\tcode: action.url.code,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...state.urls.filter(url => url.code !== action.url.code),\r\n\t\t\t\t],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terrors: []\r\n\t\t\t};\r\n\r\n\t\tcase 'URL_DELETE':\r\n\t\t\tconsole.log(state.urls)\r\n\t\t\tconsole.log(action.url.code);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\turls: state.urls.filter(url => url.code !== action.url.code),\r\n\t\t\t\turlCount: state.urlCount - 1,\r\n\t\t\t\terrors: []\r\n\t\t\t};\r\n\t\tcase 'URL_LOADING':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase 'URL_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\turlCount: 0,\r\n\t\t\t\terrors: action.error,\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { UserState } from \"../types/User\";\r\nimport { UserActionTypes } from \"../types/actions\";\r\n\r\n\r\nconst initialState:UserState = {\r\n    name: '',\r\n    loading: false,\r\n    email: '',\r\n    errors: []\r\n}\r\n\r\nexport default function(state:UserState = initialState, action:UserActionTypes){\r\n    switch(action.type){\r\n        case 'USER_REGISTER':\r\n            return {\r\n                ...state,\r\n                name: action.payload ? action.payload.name : '',\r\n                errors: [],\r\n                loading: false\r\n            };\r\n        case \"USER_LOGIN\":\r\n            return {\r\n                ...state,\r\n                name: action.payload ? action.payload.name : '',\r\n                errors: [],\r\n                loading: false\r\n            }\r\n        case 'USER_LOGOUT':\r\n            return {\r\n                ...state,\r\n                name: '',\r\n                errors: [],\r\n                loading: false\r\n            }\r\n        case 'USER_EDIT':\r\n            return {\r\n                ...state,\r\n                name: action.payload ? action.payload.name : state.name,\r\n                email: action.payload ? action.payload.email : state.email,\r\n                errors: [],\r\n                loading: false\r\n            }\r\n        case 'USER_DELETE':\r\n            return {\r\n                ...state,\r\n                name: '',\r\n                email: '',\r\n                errors: [],\r\n                loading: false\r\n            }\r\n        case 'USER_CHECK_SESSION':\r\n      \r\n            return {\r\n                ...state,\r\n                name: action.payload ? action.payload.name : '',\r\n                email: action.payload ? action.payload.email : '',\r\n                errors: [],\r\n                loading: false\r\n            }\r\n        case 'USER_ERROR':\r\n            return {\r\n                ...state,\r\n                errors: action.payload,\r\n                loading: false\r\n            }      \r\n        case 'USER_LOADING':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}","import { combineReducers } from 'redux';\r\nimport urlReducer from './urlReducer';\r\nimport userReducer from './userReducer';\r\nexport default combineReducers({\r\n\turl: urlReducer,\r\n\tuser: userReducer,\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { AppActions } from './types/actions';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk as ThunkMiddleware<AppState, AppActions>];\r\n\r\n// const store = process.env.NODE_ENV === 'development' ? createStore(rootReducer, initialState, compose(\r\n//     applyMiddleware(...middleware),\r\n//     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n// )) :\r\n// createStore(rootReducer, initialState, compose(applyMiddleware(...middleware)));\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>;\r\n\r\nexport const store =\r\n\tprocess.env.NODE_ENV === 'development'\r\n\t\t? createStore(\r\n\t\t\t\trootReducer,\r\n\t\t\t\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n\t\t  )\r\n\t\t: createStore(rootReducer, compose(applyMiddleware(...middleware)));\r\n","export default {\r\n    serverUrl: process.env.NODE_ENV === 'development' ? 'http://localhost:5000': window.location.origin \r\n}","import axios from 'axios';\r\nimport config from '../config/config';\r\nimport { User } from '../types/User';\r\nimport { AppActions } from '../types/actions';\r\nimport { Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\naxios.defaults.withCredentials = true;\r\nconst serverUrl = config.serverUrl + '/api/user';\r\n\r\nexport const registerUser = (user: User): AppActions => ({\r\n\ttype: 'USER_REGISTER',\r\n\tpayload: user,\r\n});\r\n\r\nexport const loginUser = (user: User): AppActions => ({\r\n\ttype: 'USER_LOGIN',\r\n\tpayload: user,\r\n});\r\n\r\nexport const logoutUser = (user: User): AppActions => ({\r\n\ttype: 'USER_LOGOUT',\r\n\tpayload: user,\r\n});\r\n\r\nexport const editUser = (user: User): AppActions => ({\r\n\ttype: 'USER_EDIT',\r\n\tpayload: user,\r\n});\r\n\r\nexport const deleteUser = (): AppActions => ({\r\n\ttype: 'USER_DELETE',\r\n});\r\n\r\nexport const checkUserSession = (user: User): AppActions => ({\r\n\ttype: 'USER_CHECK_SESSION',\r\n\tpayload: user,\r\n});\r\n\r\nexport const setUserError = (errors: string[] | string): AppActions => ({\r\n\ttype: 'USER_ERROR',\r\n\tpayload: errors instanceof Array ? (errors as string[]) : [errors as string],\r\n});\r\n\r\nexport const setUserLoading = (error: string): AppActions => ({\r\n\ttype: 'USER_LOADING',\r\n});\r\n\r\nexport const startRegisterUser = (\r\n\tuser: User\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\treturn axios\r\n\t\t.post(serverUrl + '/register', user)\r\n\t\t.then(res => {\r\n\t\t\tdispatch(registerUser(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startLoginUser = (\r\n\tuser: User\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\treturn axios\r\n\t\t.post(serverUrl + '/login', user)\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res.data);\r\n\t\t\tdispatch(loginUser(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startLogoutUser = (): ThunkAction<\r\n\tPromise<void>,\r\n\tvoid,\r\n\tvoid,\r\n\tAppActions\r\n> => (dispatch: Dispatch<AppActions>): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\r\n\treturn axios\r\n\t\t.post(serverUrl + '/logout')\r\n\t\t.then(res => {\r\n\t\t\tdispatch(logoutUser(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startEditUser = (\r\n\tuser: User\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\r\n\treturn axios\r\n\t\t.put(serverUrl + '/edit', user)\r\n\t\t.then(res => {\r\n\t\t\tdispatch(editUser(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startDeleteUser = (): ThunkAction<\r\n\tPromise<void>,\r\n\tvoid,\r\n\tvoid,\r\n\tAppActions\r\n> => (dispatch: Dispatch<AppActions>): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\r\n\treturn axios\r\n\t\t.delete(serverUrl + '/')\r\n\t\t.then(res => {\r\n\t\t\tdispatch(deleteUser());\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startCheckUserSession = (): ThunkAction<\r\n\tPromise<void>,\r\n\tvoid,\r\n\tvoid,\r\n\tAppActions\r\n> => (dispatch: Dispatch<AppActions>): Promise<void> => {\r\n\t// dispatch(setUserLoading());\r\n\r\n\treturn axios\r\n\t\t.get(serverUrl + '/usernameandemail')\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res.data);\r\n\t\t\tdispatch(checkUserSession(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUserError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n\tCollapse,\r\n\tNav,\r\n\tNavbar,\r\n\tNavbarToggler,\r\n\tNavbarBrand,\r\n\tNavItem,\r\n\tNavLink as reactstrapNavLink,\r\n} from 'reactstrap';\r\n\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\n\r\nimport { startLogoutUser } from '../actions/userActions';\r\nimport { connect } from 'react-redux';\r\n\r\nimport logo from '../logotiny.png';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport { AppState } from '../store';\r\n\r\ntype AppNavbarProps = {\r\n    \r\n};\r\n\r\ntype AppNavbarState = {\r\n    isOpen: boolean\r\n};\r\n\r\ntype Props = AppNavbarProps & LinkDispatchProps & LinkStateProp & React.Props<{}>;\r\n\r\n\r\nclass AppNavbar extends Component<Props, AppNavbarState> {\r\n\tstate = {\r\n\t\tisOpen: false,\r\n\t};\r\n\r\n\ttoggle() {\r\n\t\tthis.setState({ isOpen: !this.state.isOpen });\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst AuthNavbar = withRouter(({ history }) =>\r\n\t\t\tthis.props.name ? (\r\n\t\t\t\t<Nav navbar={true}>\r\n\t\t\t\t\t<NavLink activeClassName={'current-nav-link'} to=\"/settings\">\r\n\t\t\t\t\t\t<NavItem>{this.props.name}</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t<NavLink activeClassName={'current-nav-link'} to=\"/dashboard\">\r\n\t\t\t\t\t\t<NavItem>Dashboard</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t<NavLink activeClassName={'current-nav-link'} to=\"/about\">\r\n\t\t\t\t\t\t<NavItem>About</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink to=\"/\" onClick={()=>{this.props.startLogoutUser().then(()=>{\r\n\t\t\t\t\t\t\t\t\thistory.push('/')\r\n\t\t\t\t\t\t\t\t})}}>\r\n\t\t\t\t\t\t<NavItem>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLog out\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</Nav>\r\n\t\t\t) : (\r\n\t\t\t\t<Nav navbar={true}>\r\n\t\t\t\t\t<NavLink activeClassName={'current-nav-link'} to=\"/about\">\r\n\t\t\t\t\t\t<NavItem>About</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t<NavLink activeClassName={'current-nav-link'} to=\"/login\">\r\n\t\t\t\t\t\t<NavItem>Login</NavItem>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</Nav>\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar color=\"light\" light expand=\"md\" id=\"navbar\">\r\n\t\t\t\t\t<NavLink to=\"/\">\r\n\t\t\t\t\t\t<NavbarBrand>\r\n\t\t\t\t\t\t\t<img className=\"navbarLogo\" src={logo}></img>URLShortStat\r\n\t\t\t\t\t\t</NavbarBrand>\r\n\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t<NavbarToggler onClick={this.toggle.bind(this)} />\r\n\r\n\t\t\t\t\t<Collapse isOpen={this.state.isOpen} navbar>\r\n\t\t\t\t\t\t<AuthNavbar />\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tname?: string;\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartLogoutUser: () => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: AppNavbarProps\r\n): LinkStateProp => ({\r\n\tname: state.user.name,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: AppNavbarProps\r\n): LinkDispatchProps => ({\r\n\tstartLogoutUser: () => dispatch(startLogoutUser()),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppNavbar);","import React from 'react';\r\nimport {\r\n\tAlert,\r\n\tFormGroup,\r\n\tForm,\r\n\tButton,\r\n\tContainer,\r\n\tInput,\r\n\tLabel,\r\n} from 'reactstrap';\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tRedirect,\r\n\tLink,\r\n\tRouteComponentProps,\r\n} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { startLoginUser } from '../actions/userActions';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport { AppState } from '../store';\r\nimport { User } from '../types/User';\r\n\r\ntype LoginState = {\r\n\temail: string;\r\n\tpassword: string;\r\n\terrors: string[];\r\n};\r\n\r\ntype Props = LinkDispatchProps &\r\n\tLinkStateProp &\r\n\tRouteComponentProps<{}> &\r\n\tReact.Props<{}>;\r\n\r\nclass Login extends React.Component<Props, LoginState> {\r\n\tstate: LoginState = {\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\terrors: [],\r\n\t};\r\n\r\n\tonChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tthis.setState({ email: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tthis.setState({ password: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tonSubmit = async (e: React.ChangeEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst errors = [];\r\n\r\n\t\tif (this.state.email.length === 0) {\r\n\t\t\terrors.push('Please enter a valid email.');\r\n\t\t}\r\n\r\n\t\tif (this.state.password.length === 0) {\r\n\t\t\terrors.push('Please enter a password.');\r\n\t\t}\r\n\r\n\t\tif (errors.length > 0) {\r\n\t\t\tthis.setState({ errors });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst user: User = {\r\n\t\t\temail: this.state.email,\r\n\t\t\tpassword: this.state.password,\r\n\t\t};\r\n\r\n\t\tawait this.props.startLoginUser(user);\r\n\r\n\t\tif(this.props.errors.length>0){\r\n\t\t\tthis.setState({errors: this.props.errors})\r\n\t\t}\r\n\t\t// if (error) {\r\n\t\t// \ttry {\r\n\t\t// \t\tthis.setState({ formErrorMessages: [error.response.data] });\r\n\t\t// \t} catch (error) {\r\n\t\t// \t\tthis.setState({\r\n\t\t// \t\t\tformErrorMessages: ['Unable to connect to server.'],\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t};\r\n\trender() {\r\n\t\tconst { from } = this.props.location.state || { from: { pathname: '/' } };\r\n\r\n\t\tif (this.props.name) {\r\n\t\t\treturn <Redirect to={from} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<h1>Login</h1>\r\n\r\n\t\t\t\t{this.props.location.state ? (\r\n\t\t\t\t\t<Alert color=\"danger\">You must login to view this page.</Alert>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t{index !== this.state.errors.length -1 ? <hr />: null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<Label for=\"email\">Email Address</Label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<Label for=\"password\">Password</Label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t<Button>Log in</Button>\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<p>\r\n\t\t\t\t\tDon't have an account? Register <Link to=\"/register\">here</Link>.\r\n\t\t\t\t</p>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n\tname?: string;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartLoginUser: (user: User) => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): LinkStateProp => ({\r\n\tloading: state.user.loading,\r\n\tname: state.user.name,\r\n\terrors: state.user.errors\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n\tstartLoginUser: (user: User) => dispatch(startLoginUser(user)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React, {Component} from 'react';\r\nimport {\r\n\tAlert,\r\n\tFormGroup,\r\n\tForm,\r\n\tButton,\r\n\tLabel,\r\n\tContainer,\r\n\tInput\r\n} from 'reactstrap';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { registerUser, startRegisterUser } from '../actions/userActions';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport { User } from '../types/User';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport { AppState } from '../store';\r\n\r\n\r\ntype RegisterProps = {\r\n}\r\n\r\ntype RegisterState = {\r\n\tname: string;\r\n\temail: string;\r\n\tpassword: string;\r\n\tpassword2: string;\r\n\terrors: string[]; \r\n}\r\n\r\ntype Props = RegisterProps & LinkDispatchProps & LinkStateProp & RouteComponentProps<{}> & React.Props<{}>;\r\n\r\nclass Register extends Component<Props, RegisterState> {\r\n\tstate:RegisterState ={\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword : '',\r\n\t\tpassword2: '',\r\n\t\terrors: []\r\n\t}\r\n\r\n\tonChange = (e:React.ChangeEvent<HTMLInputElement>):void =>  {\r\n\t\tswitch(e.target.name){\r\n\t\t\tcase 'name':\r\n\t\t\t\tthis.setState({ name: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tthis.setState({ email: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tthis.setState({ password: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password2':\r\n\t\t\t\tthis.setState({ password2: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tonSubmit = async (e:React.SyntheticEvent) => {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tconst errors:string[] = [];\r\n\t\tif (this.state.name.length === 0) {\r\n\t\t\terrors.push('A username must be at least 1 character.');\r\n\t\t}\r\n\r\n\t\tif (this.state.email.length === 0) {\r\n\t\t\terrors.push('Please enter a valid email.');\r\n\t\t}\r\n\r\n\t\tif (this.state.password.length < 6) {\r\n\t\t\terrors.push('A password must be at least 6 characters.');\r\n\t\t}\r\n\r\n\t\tif (this.state.password !== this.state.password2) {\r\n\t\t\terrors.push('Passwords do not match.');\r\n\t\t}\r\n\r\n\t\tif (errors.length > 0) {\r\n\t\t\tthis.setState({ errors });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tawait this.props.startRegisterUser({\r\n\t\t\tname: this.state.name, \r\n\t\t\temail: this.state.email, \r\n\t\t\tpassword: this.state.password, \r\n\t\t\tpassword2: this.state.password\r\n\t\t});\r\n\t\t// if (error)\r\n\t\t// \tthis.setState({ formErrorMessages: error.response.data.message });\r\n\t\t// else this.props.history.push('/dashboard');\r\n\t\t//redir\r\n\t\tif(this.props.errors.length > 0){\r\n\t\t\tthis.setState({errors: this.props.errors})\r\n\t\t}else{\r\n\t\t\tthis.props.history.push('/dashboard');\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.props.name) {\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Alert color=\"danger\">Please logout to register a new account.</Alert>\r\n\t\t\t\t</Container>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<h1>Register</h1>\r\n\t\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t{index !== this.state.errors.length -1 ? <hr />: null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Form onSubmit={this.onSubmit.bind(this)}>\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Label for=\"name\">Username</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"i.e. TimApple\"\r\n\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Label for=\"email\">Email Address</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"example@email.com\"\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Label for=\"password\">Password</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Password (At least 6 characters)\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t<Label for=\"password2\">Retype Password</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Retype password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password2\"\r\n\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.password2}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t<Button>Register</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tAlready have an account? Login <Link to=\"/login\">here</Link>.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Container>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// const mapStateToProps = (state) => ({\r\n// \tloading: state.user.loading,\r\n// \tname: state.user.name,\r\n// });\r\n\r\n// export default connect(mapStateToProps, { registerUser })(Register);\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n\tname?: string;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartRegisterUser: (user:User) => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: RegisterProps\r\n): LinkStateProp => ({\r\n\tloading: state.user.loading,\r\n\tname: state.user.name,\r\n\terrors: state.user.errors\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: RegisterProps\r\n): LinkDispatchProps => ({\r\n\tstartRegisterUser: (user: User) => dispatch(startRegisterUser(user)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","import axios from 'axios';\r\nimport { AppActions } from '../types/actions';\r\nimport config from '../config/config';\r\nimport { Dispatch } from 'redux';\r\nimport { Url } from '../types/Url';\r\nimport { AppState } from '../store';\r\nimport { ThunkAction } from 'redux-thunk';\r\naxios.defaults.withCredentials = true;\r\nconst serverUrl = config.serverUrl + '/api/url';\r\n\r\nexport const getUrls = (urls: Url[], urlsCount: number): AppActions => ({\r\n\ttype: 'URL_GET',\r\n\turls: urls,\r\n\turlCount: urlsCount,\r\n});\r\n\r\nexport const createUrl = (url: Url): AppActions => ({\r\n\ttype: 'URL_CREATE',\r\n\turl: url,\r\n});\r\n\r\nexport const editUrl = (url: Url): AppActions => ({\r\n\ttype: 'URL_EDIT',\r\n\turl: url,\r\n});\r\n\r\nexport const deleteUrl = (url: Url): AppActions => ({\r\n\ttype: 'URL_DELETE',\r\n\turl: url,\r\n});\r\n\r\nexport const setUrlLoading = (): AppActions => ({\r\n\ttype: 'URL_LOADING',\r\n});\r\n\r\nexport const setUrlError = (errors: string[]|string): AppActions => ({\r\n\ttype: 'URL_ERROR',\r\n\terror: (errors instanceof Array ? errors as string[] : [errors as string]),\r\n});\r\n\r\nexport const startGetUrls = (): ThunkAction<\r\n\tPromise<void>,\r\n\tvoid,\r\n\tvoid,\r\n\tAppActions\r\n> => (dispatch: Dispatch<AppActions>): Promise<void> => {\r\n\tdispatch(setUrlLoading());\r\n\treturn axios\r\n\t\t.get(serverUrl + '/')\r\n\t\t.then(res => {\r\n\t\t\tdispatch(getUrls(res.data.urls, res.data.count));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUrlError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startCreateUrl = (\r\n\turl: Url\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\tdispatch(setUrlLoading());\r\n\treturn axios\r\n\t\t.post(serverUrl + '/create', url)\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res.data);\r\n\t\t\tdispatch(createUrl(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUrlError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startEditUrl = (\r\n\turl: Url\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\tdispatch(setUrlLoading());\r\n\treturn axios\r\n\t\t.put(serverUrl + '/edit', url)\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res.data);\r\n\t\t\tdispatch(editUrl(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUrlError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n\r\nexport const startDeleteUrl = (\r\n\tcode: string\r\n): ThunkAction<Promise<void>, void, void, AppActions> => (\r\n\tdispatch: Dispatch<AppActions>\r\n): Promise<void> => {\r\n\tdispatch(setUrlLoading());\r\n\treturn axios\r\n\t\t.delete(serverUrl + `/${code}`)\r\n\t\t.then(res => {\r\n\t\t\tdispatch(deleteUrl(res.data));\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\r\n\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t: error.toString()\r\n\t\t\t);\r\n\t\t\tdispatch(\r\n\t\t\t\tsetUrlError(\r\n\t\t\t\t\terror.response?.data?.message\r\n\t\t\t\t\t\t? error.response?.data?.message\r\n\t\t\t\t\t\t: error.toString()\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tAlert,\r\n\tFormGroup,\r\n\tForm,\r\n\tButton,\r\n\tContainer,\r\n\tInputGroup,\r\n\tInputGroupAddon,\r\n\tInputGroupText,\r\n\tInput,\r\n\tModal,\r\n\tModalHeader,\r\n\tModalBody,\r\n\tLabel,\r\n} from 'reactstrap';\r\nimport { startCreateUrl } from '../actions/urlActions';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport { AppState } from '../store';\r\nimport { Url } from '../types/Url';\r\n\r\ntype CreateUrlFormProps = {\r\n\tshowCreateUrlForm: boolean;\r\n\tonToggleCreateUrlForm: () => void;\r\n};\r\n\r\ntype CreateUrlFormState = {\r\n\toriginalUrl: string;\r\n\tcustomUrl: string;\r\n\tuseCustomUrl: boolean;\r\n\terrors: string[];\r\n};\r\n\r\ntype Props = CreateUrlFormProps & LinkDispatchProps & LinkStateProp;\r\n\r\nclass CreateUrlForm extends Component<Props, CreateUrlFormState> {\r\n\tstate: CreateUrlFormState = {\r\n\t\toriginalUrl: '',\r\n\t\tcustomUrl: '',\r\n\t\tuseCustomUrl: false,\r\n\t\terrors: [],\r\n\t};\r\n\r\n\tonChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase 'originalUrl':\r\n\t\t\t\tthis.setState({ originalUrl: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'customUrl':\r\n\t\t\t\tthis.setState({ customUrl: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\thandleCheckboxChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tthis.setState({ useCustomUrl: e.target.checked });\r\n\t};\r\n\r\n\tonSubmit = async (e: React.ChangeEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst errors = [];\r\n\t\tif (this.state.originalUrl.length === 0) {\r\n\t\t\terrors.push('A URL is required.');\r\n\t\t}\r\n\r\n\t\tif (errors.length > 0) {\r\n\t\t\tthis.setState({ errors });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newUrl: Url = {\r\n\t\t\toriginalUrl: this.state.originalUrl,\r\n\t\t\tcode: this.state.customUrl,\r\n\t\t};\r\n\r\n\t\tawait this.props.startCreateUrl(newUrl);\r\n\r\n\t\tif(this.props.errors.length > 0){\r\n\t\t\tthis.setState({errors: this.props.errors})\r\n\t\t}else{\r\n\t\t\tthis.props.onToggleCreateUrlForm();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={this.props.showCreateUrlForm}\r\n\t\t\t\t\ttoggle={this.props.onToggleCreateUrlForm}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.props.onToggleCreateUrlForm}>\r\n\t\t\t\t\t\t\tCreate URL\r\n\t\t\t\t\t\t</ModalHeader>\r\n\t\t\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t\t{index !== this.state.errors.length - 1 ? <hr /> : null}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\r\n\t\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t\t<Label for=\"originalUrl\">Original Url</Label>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"originalUrl\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"originalUrl\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"useCustomUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taddon\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"useCustomUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleCheckboxChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Checkbox for following text input\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Label for=\"useCustomUrl\"> Use custom URL</Label>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\r\n\t\t\t\t\t\t\t\t{this.state.useCustomUrl ? (\r\n\t\t\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Label for=\"customUrl\">Custom Url</Label>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"customUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.customUrl}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"customUrl\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Button>Create</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartCreateUrl: (url: Url) => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: CreateUrlFormProps\r\n): LinkStateProp => ({\r\n\tloading: state.url.loading,\r\n\terrors:state.url.errors\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: CreateUrlFormProps\r\n): LinkDispatchProps => ({\r\n\tstartCreateUrl: (url: Url) => dispatch(startCreateUrl(url)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateUrlForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tAlert,\r\n\tFormGroup,\r\n\tForm,\r\n\tButton,\r\n\tContainer,\r\n\tInputGroup,\r\n\tInputGroupAddon,\r\n\tInputGroupText,\r\n\tInput,\r\n\tModal,\r\n\tModalHeader,\r\n\tModalBody,\r\n\tRow,\r\n\tLabel,\r\n} from 'reactstrap';\r\nimport { startEditUrl } from '../actions/urlActions';\r\nimport { AppState } from '../store';\r\nimport { Url } from '../types/Url';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport config from '../config/config';\r\n\r\ntype EditUrlFormProps = {\r\n\tshowEditUrlForm: boolean;\r\n\tonToggleEditUrlForm: () => void;\r\n\turl: Url | null;\r\n};\r\n\r\ntype EditUrlFormState = {\r\n\toriginalUrl: string;\r\n\terrors: string[];\r\n};\r\n\r\ntype Props = EditUrlFormProps & LinkDispatchProps & LinkStateProp;\r\nclass EditUrlForm extends Component<Props, EditUrlFormState> {\r\n\tstate: EditUrlFormState = {\r\n\t\toriginalUrl: '',\r\n\t\terrors: [],\r\n\t};\r\n\r\n\tonChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tthis.setState({ originalUrl: e.target.value });\r\n\t};\r\n\r\n\tonSubmit = (e: React.ChangeEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst errors = [];\r\n\t\tif (this.state.originalUrl.length === 0) {\r\n\t\t\terrors.push('A URL is required.');\r\n\t\t}\r\n\r\n\t\tif (errors.length > 0) {\r\n\t\t\tthis.setState({ errors });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.props.url === null){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newUrl = {\r\n\t\t\toriginalUrl: this.state.originalUrl,\r\n\t\t\tcode: this.props.url.code,\r\n\t\t};\r\n\r\n\t\tthis.props.startEditUrl(newUrl).then(() => {\r\n\t\t\t// if (error) {\r\n\t\t\t// \tconsole.log(error.response);\r\n\t\t\t// \tthis.setState({ formErrorMessages: [error.response.data.message] });\r\n\t\t\t// }\r\n\t\t\t//assign errors\r\n\t\t});\r\n\r\n\t\tif(this.props.errors.length > 0){\r\n\t\t\tthis.setState({errors: this.props.errors})\r\n\t\t}else{\r\n\t\t\tthis.props.onToggleEditUrlForm();\r\n\t\t}\r\n\r\n\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={this.props.showEditUrlForm}\r\n\t\t\t\t\ttoggle={this.props.onToggleEditUrlForm}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t<ModalHeader toggle={this.props.onToggleEditUrlForm}>\r\n\t\t\t\t\t\t\t<Row>Editing URL</Row>\r\n\t\t\t\t\t\t\t<Row>{this.props.url ? config.serverUrl + '/u/' + this.props.url.code : null}</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</ModalHeader>\r\n\t\t\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t\t{index !== this.state.errors.length - 1 ? <hr /> : null}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Label for=\"originalUrl\">Original Url</Label>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"originalUrl\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"originalUrl\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={this.props.url ? this.props.url.originalUrl : ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<Button>Save</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartEditUrl: (url: Url) => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: EditUrlFormProps) => ({\r\n\tloading: state.url.loading,\r\n\terrors: state.url.errors\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: EditUrlFormProps\r\n): LinkDispatchProps => ({\r\n\tstartEditUrl: (url: Url) => dispatch(startEditUrl(url)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditUrlForm);\r\n","import React from 'react';\r\nimport { Col, Row, Button, Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport Chart from 'chart.js';\r\nimport axios from 'axios';\r\nimport config from '../config/config';\r\nimport { AppActions } from '../types/actions';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppState } from '../store';\r\nimport { Analytics } from '../types/Url';\r\naxios.defaults.withCredentials = true;\r\nvar moment = require('moment');\r\n\r\ntype UrlAnalyticsProps = {\r\n\tcode: string;\r\n\ttimeSpan: string;\r\n\tunitsBackInTime: number;\r\n\tisOpen: boolean;\r\n};\r\n\r\ntype UrlAnalyticsState = {\r\n\tloading: boolean;\r\n\tchart?: Chart;\r\n\ttotalVisitCount: number;\r\n\ttimeSpanVisitCount: number;\r\n\tvisitGrowth: number;\r\n};\r\n\r\ntype Props = UrlAnalyticsProps & LinkDispatchProps & LinkStateProp;\r\nclass UrlAnalytics extends React.Component<Props, UrlAnalyticsState> {\r\n\tchartRef: React.RefObject<HTMLCanvasElement> = React.createRef();\r\n\r\n\tstate: UrlAnalyticsState = {\r\n\t\tloading: false,\r\n\t\tchart: undefined,\r\n\t\ttimeSpanVisitCount: 0,\r\n\t\ttotalVisitCount: 0,\r\n\t\tvisitGrowth: 0,\r\n\t};\r\n\r\n\tgetAnalytics(unitsBackInTime: number): Promise<Analytics | null> {\r\n\t\tconst body = {\r\n\t\t\tcode: this.props.code,\r\n\t\t\ttimeSpan: this.props.timeSpan,\r\n\t\t\tunitsBackInTime: unitsBackInTime,\r\n\t\t\ttimeSpanVisitCount: 0,\r\n\t\t\ttotalVisitCount: 0,\r\n\t\t};\r\n\t\treturn axios\r\n\t\t\t.post(config.serverUrl + '/api/url/analytics/', body)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t// this.setState({loading: false});\r\n\r\n\t\t\t\t//change the format of the response to match the format for plotting on chartjs\r\n\t\t\t\tlet dataPointsRes = res.data.dataPoints;\r\n\t\t\t\tlet dataPoints: { [key: string]: number } = {};\r\n\r\n\t\t\t\t//fill data with 0s\r\n\t\t\t\tlet lowerBoundDate = null;\r\n\t\t\t\tlet upperBoundDate = null;\r\n\t\t\t\tlet format = null;\r\n\t\t\t\tconst currentDate = new Date();\r\n\t\t\t\tlet date = null;\r\n\t\t\t\tswitch (this.props.timeSpan) {\r\n\t\t\t\t\tcase 'month':\r\n\t\t\t\t\t\tlowerBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear(),\r\n\t\t\t\t\t\t\tcurrentDate.getMonth() - unitsBackInTime,\r\n\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t); // first dday of month\r\n\t\t\t\t\t\tupperBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear(),\r\n\t\t\t\t\t\t\tcurrentDate.getMonth() - unitsBackInTime + 1,\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t); //first of next month\r\n\t\t\t\t\t\tformat = 'MM/DD/YYYY';\r\n\t\t\t\t\t\tdate = new Date(\r\n\t\t\t\t\t\t\tupperBoundDate.getFullYear(),\r\n\t\t\t\t\t\t\tupperBoundDate.getMonth(),\r\n\t\t\t\t\t\t\tupperBoundDate.getDate()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tfor (let i = 0; date > lowerBoundDate; i++) {\r\n\t\t\t\t\t\t\tdate = new Date(\r\n\t\t\t\t\t\t\t\tupperBoundDate.getFullYear(),\r\n\t\t\t\t\t\t\t\tupperBoundDate.getMonth(),\r\n\t\t\t\t\t\t\t\tupperBoundDate.getDate() - i\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst formattedDate = moment(date)\r\n\t\t\t\t\t\t\t\t.format(format)\r\n\t\t\t\t\t\t\t\t.toString();\r\n\r\n\t\t\t\t\t\t\tif (!(formattedDate in dataPointsRes)) {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = dataPointsRes[formattedDate];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'year':\r\n\t\t\t\t\t\tlowerBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear() - unitsBackInTime,\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tupperBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear() + 1 - unitsBackInTime,\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t//even though the units is by month, chartjs wants the day to be included for some reason. chartjs will not read MM/YYYY, only MM/DD/YYYY.\r\n\t\t\t\t\t\tformat = 'MM/DD/YYYY';\r\n\t\t\t\t\t\tdate = new Date(\r\n\t\t\t\t\t\t\tupperBoundDate.getFullYear(),\r\n\t\t\t\t\t\t\tupperBoundDate.getMonth()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tfor (let i = 0; date > lowerBoundDate; i++) {\r\n\t\t\t\t\t\t\tdate = new Date(\r\n\t\t\t\t\t\t\t\tupperBoundDate.getFullYear(),\r\n\t\t\t\t\t\t\t\tupperBoundDate.getMonth() - i\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst formattedDate = moment(date)\r\n\t\t\t\t\t\t\t\t.format(format)\r\n\t\t\t\t\t\t\t\t.toString();\r\n\t\t\t\t\t\t\t//the server still goes by this format in its response. MM/YYYY\r\n\t\t\t\t\t\t\tconst resFormattedDate = moment(date)\r\n\t\t\t\t\t\t\t\t.format('MM/YYYY')\r\n\t\t\t\t\t\t\t\t.toString();\r\n\t\t\t\t\t\t\tif (!(resFormattedDate in dataPointsRes)) {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = dataPointsRes[resFormattedDate];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t//last 30 days\r\n\t\t\t\t\t\tupperBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear(),\r\n\t\t\t\t\t\t\tcurrentDate.getMonth(),\r\n\t\t\t\t\t\t\tcurrentDate.getDate() - 30 * unitsBackInTime\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tlowerBoundDate = new Date(\r\n\t\t\t\t\t\t\tcurrentDate.getFullYear(),\r\n\t\t\t\t\t\t\tcurrentDate.getMonth(),\r\n\t\t\t\t\t\t\tcurrentDate.getDate() - 30 * (unitsBackInTime + 1)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tformat = 'MM/DD/YYYY';\r\n\r\n\t\t\t\t\t\tfor (let i = 0; i < 30; i++) {\r\n\t\t\t\t\t\t\tconst date = new Date(\r\n\t\t\t\t\t\t\t\tupperBoundDate.getFullYear(),\r\n\t\t\t\t\t\t\t\tupperBoundDate.getMonth(),\r\n\t\t\t\t\t\t\t\tupperBoundDate.getDate() - i\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst formattedDate = moment(date)\r\n\t\t\t\t\t\t\t\t.format(format)\r\n\t\t\t\t\t\t\t\t.toString();\r\n\r\n\t\t\t\t\t\t\tif (!(formattedDate in dataPointsRes)) {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdataPoints[formattedDate] = dataPointsRes[formattedDate];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//tightly couple the dates with number of visits so order will be preserved.\r\n\t\t\t\tlet data = [];\r\n\t\t\t\tfor (let key in dataPoints) {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tx: key,\r\n\t\t\t\t\t\ty: dataPoints[key],\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//javascript doesn't guarantee ordered elements for all browsers in objects. We need to make sure its in order bc we derived this data from an object.\r\n\t\t\t\tdata = data.sort((a, b) => {\r\n\t\t\t\t\treturn new Date(a.x) > new Date(b.x) ? 1 : -1;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst analyticsResult: Analytics = {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\ttotalVisitCount: res.data.totalVisitCount,\r\n\t\t\t\t\ttimeSpanVisitCount: res.data.timeSpanVisitCount,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn analyticsResult;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error.response);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetXAxisLabel(): string {\r\n\t\tswitch (this.props.timeSpan) {\r\n\t\t\tcase 'month':\r\n\t\t\t\treturn 'Days';\r\n\t\t\tcase 'year':\r\n\t\t\t\treturn 'Months';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Days';\r\n\t\t}\r\n\t}\r\n\r\n\tgetUnits(): 'day' | 'month' {\r\n\t\tswitch (this.props.timeSpan) {\r\n\t\t\tcase 'month':\r\n\t\t\t\treturn 'day';\r\n\t\t\tcase 'year':\r\n\t\t\t\treturn 'month';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'day';\r\n\t\t}\r\n\t}\r\n\r\n\tinitChart(): void {\r\n\t\tconst myChartRef = this.chartRef.current!.getContext(\r\n\t\t\t'2d'\r\n\t\t) as CanvasRenderingContext2D;\r\n\r\n\t\t// var color = Chart.helpers.color;\r\n\t\tconst lineColor = '#69cfff';\r\n\t\tconst config: Chart.ChartConfiguration = {\r\n\t\t\ttype: 'line',\r\n\t\t\tdata: {\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: 'Visits',\r\n\t\t\t\t\t\tbackgroundColor: lineColor,\r\n\t\t\t\t\t\tborderColor: lineColor,\r\n\t\t\t\t\t\tfill: false,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tmaintainAspectRatio: false,\r\n\t\t\t\tscales: {\r\n\t\t\t\t\txAxes: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\tlabelString: this.getXAxisLabel(),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tyAxes: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\tlabelString: 'Number of Visits',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.setState({ chart: new Chart(myChartRef, config) });\r\n\t}\r\n\r\n\tgetLabels(analytics: Analytics, analyticsPrev: Analytics): string[] {\r\n\t\tlet labelList: string[] = [];\r\n\t\tfor (\r\n\t\t\tlet i = 0;\r\n\t\t\ti < analytics.data.length || i < analyticsPrev.data.length;\r\n\t\t\ti++\r\n\t\t) {\r\n\t\t\tlabelList.push(\r\n\t\t\t\t`${i < analytics.data.length ? analytics.data[i].x : ''};${\r\n\t\t\t\t\ti < analyticsPrev.data.length ? analyticsPrev.data[i].x : ''\r\n\t\t\t\t}`\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn labelList;\r\n\t}\r\n\r\n\tgetYData(analytics: Analytics): number[] {\r\n\t\tlet yList: number[] = [];\r\n\t\tfor (let i = 0; i < analytics.data.length; i++) {\r\n\t\t\tyList.push(analytics.data[i].y);\r\n\t\t}\r\n\t\treturn yList;\r\n\t}\r\n\r\n\tasync updateData(): Promise<void> {\r\n\t\tif (!this.state.chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst analytics = await this.getAnalytics(this.props.unitsBackInTime);\r\n\t\tif (!analytics) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst analyticsPrev = await this.getAnalytics(\r\n\t\t\tthis.props.unitsBackInTime + 1\r\n\t\t);\r\n\t\tif (!analyticsPrev) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// console.log(analytics);\r\n\t\t// this.state.chart.data.datasets.forEach((dataset:Chart.ChartDataSets) => {\r\n\t\t//     dataset.data.pop();\r\n\t\t//     dataset.data = analytics.data;\r\n\t\t// });\r\n\r\n\t\tthis.state.chart.data.labels = this.getLabels(analytics, analyticsPrev);\r\n\t\tconst dateFormat =\r\n\t\t\tthis.props.timeSpan === 'year' ? 'MMM YYYY' : 'MMM DD, YYYY';\r\n\t\tthis.state.chart.options.scales = {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'x-axis-1',\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: this.getXAxisLabel(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tcallback: function(label) {\r\n\t\t\t\t\t\t\treturn moment(new Date(label.split(';')[0])).format(dateFormat);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'x-axis-2',\r\n\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: this.getXAxisLabel(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tcallback: function(label) {\r\n\t\t\t\t\t\t\treturn moment(new Date(label.split(';')[1])).format(dateFormat);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: 'Number of Visits',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\r\n\t\tconst lineColorCurrent = '#69cfff';\r\n\t\tconst lineColorPrev = '#f54242';\r\n\t\tthis.state.chart.data.datasets = [\r\n\t\t\t{\r\n\t\t\t\txAxisID: 'x-axis-1',\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\tlabel: 'This Time Period',\r\n\t\t\t\tbackgroundColor: lineColorCurrent,\r\n\t\t\t\tborderColor: lineColorCurrent,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tdata: this.getYData(analytics),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txAxisID: 'x-axis-2',\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\tlabel: 'Last Time Period',\r\n\t\t\t\tbackgroundColor: lineColorPrev,\r\n\t\t\t\tborderColor: lineColorPrev,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tdata: this.getYData(analyticsPrev),\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tconst growthPercent =\r\n\t\t\t((analytics.timeSpanVisitCount - analyticsPrev.timeSpanVisitCount) /\r\n\t\t\t\t((analytics.timeSpanVisitCount + analyticsPrev.timeSpanVisitCount) /\r\n\t\t\t\t\t2)) *\r\n\t\t\t100;\r\n\r\n\t\tthis.state.chart.update();\r\n\t\tthis.setState({\r\n\t\t\ttimeSpanVisitCount: analytics.timeSpanVisitCount,\r\n\t\t\ttotalVisitCount: analytics.totalVisitCount,\r\n\t\t\tvisitGrowth: Number.isNaN(growthPercent) ? 0 : growthPercent,\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.initChart();\r\n\t}\r\n\r\n\tasync componentDidUpdate(\r\n\t\tprevProps: UrlAnalyticsProps,\r\n\t\tprevState: UrlAnalyticsState\r\n\t) {\r\n\t\tif (\r\n\t\t\t(this.props.isOpen !== prevProps.isOpen && this.props.isOpen === true) ||\r\n\t\t\tthis.props.timeSpan !== prevProps.timeSpan ||\r\n\t\t\tthis.props.unitsBackInTime !== prevProps.unitsBackInTime\r\n\t\t) {\r\n\t\t\tthis.updateData();\r\n\t\t}\r\n\t}\r\n\r\n\tonClickRefresh() {\r\n\t\tthis.updateData();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Button size=\"sm\" onClick={this.onClickRefresh.bind(this)}>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-sync\"></i>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<canvas id=\"myChart\" ref={this.chartRef} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<h4>{this.state.totalVisitCount}</h4>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>Total visits</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<h4>{this.state.timeSpanVisitCount}</h4>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\tVisits this{' '}\r\n\t\t\t\t\t\t\t{' ' +\r\n\t\t\t\t\t\t\t\t(this.props.timeSpan === 'last30days'\r\n\t\t\t\t\t\t\t\t\t? '30 Day Period'\r\n\t\t\t\t\t\t\t\t\t: this.props.timeSpan)}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{this.state.visitGrowth}%\r\n\t\t\t\t\t\t\t\t{this.state.visitGrowth !== 0 ? (this.state.visitGrowth > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-long-arrow-alt-up arrow-green\"></i>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-long-arrow-alt-down arrow-red\"></i>\r\n\t\t\t\t\t\t\t\t)) : ''}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>Growth Over Previous Period</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n}\r\n\r\ninterface LinkDispatchProps {}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: UrlAnalyticsProps\r\n): LinkStateProp => ({\r\n\tloading: state.url.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: UrlAnalyticsProps\r\n): LinkDispatchProps => ({});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UrlAnalytics);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\tCol,\r\n\tCollapse,\r\n\tContainer,\r\n\tFormGroup,\r\n\tLabel,\r\n\tInput,\r\n\tButton,\r\n\tRow,\r\n\tSpinner,\r\n} from 'reactstrap';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { startDeleteUrl } from '../actions/urlActions';\r\n\r\nimport axios from 'axios';\r\nimport CopyToClipboard from 'react-copy-to-clipboard';\r\nimport config from '../config/config';\r\nimport UrlAnalytics from './UrlAnalytics';\r\nimport { Url } from '../types/Url';\r\nimport { AppState } from '../store';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\naxios.defaults.withCredentials = true;\r\nvar moment = require('moment');\r\n\r\ntype UrlListItemProps = {\r\n\turl: Url;\r\n\tsetEditingUrl: (url: Url) => void;\r\n\tonToggleEditUrlForm: () => void;\r\n};\r\n\r\ntype UrlListItemState = {\r\n\tisOpen: boolean;\r\n\tloading: boolean;\r\n\tcopied: boolean;\r\n\ttimeSpan: string;\r\n\tunitsBackInTime: number;\r\n};\r\n\r\ntype Props = UrlListItemProps & LinkDispatchProps & LinkStateProp;\r\n\r\nclass UrlListItem extends Component<Props, UrlListItemState> {\r\n\tstate: UrlListItemState = {\r\n\t\tisOpen: false,\r\n\t\tloading: false,\r\n\t\tcopied: false,\r\n\t\ttimeSpan: 'last30days',\r\n\t\tunitsBackInTime: 0,\r\n\t};\r\n\r\n\tonChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\te.stopPropagation();\r\n\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase 'timeSpan':\r\n\t\t\t\tthis.setState({ timeSpan: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'unitsBackInTime':\r\n\t\t\t\tthis.setState({ unitsBackInTime: Number(e.target.value) });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t// this.setState({[e.target.name]: e.target.value});\r\n\t};\r\n\r\n\ttoggle = (): void => {\r\n\t\tthis.setState({ isOpen: !this.state.isOpen });\r\n\t};\r\n\r\n\tonDeleteClick = (e: React.MouseEvent<any, MouseEvent>): void => {\r\n\t\te.stopPropagation();\r\n\t\tthis.props.startDeleteUrl(this.props.url.code);\r\n\t};\r\n\r\n\tonEditClick = (e: React.MouseEvent<any, MouseEvent>) => {\r\n\t\te.stopPropagation();\r\n\t\tthis.props.setEditingUrl(this.props.url);\r\n\t\tthis.props.onToggleEditUrlForm();\r\n\t};\r\n\r\n\tstopPropagationClick = (e: React.MouseEvent<any, MouseEvent>) =>{\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst code = this.props.url.code;\r\n\t\tconst originalUrl = this.props.url.originalUrl;\r\n\t\tconst fullUrl = config.serverUrl + '/u/' + code;\r\n\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<div onClick={this.toggle.bind(this)} className=\"url-list-item\">\r\n\t\t\t\t\t<Col className={this.state.isOpen ? \"url-list-item-header-opened\" : \"url-list-item-header\"}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"remove-btn float-right\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onDeleteClick.bind(this)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"remove-btn float-right\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onEditClick.bind(this)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\"></i>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCreated:{' '}\r\n\t\t\t\t\t\t\t\t\t{moment(this.props.url.createdAt)\r\n\t\t\t\t\t\t\t\t\t\t.format('MMM DD, YYYY')\r\n\t\t\t\t\t\t\t\t\t\t.toString()}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\t{fullUrl.length > 100 && !this.state.isOpen\r\n\t\t\t\t\t\t\t\t\t\t? fullUrl.slice(-fullUrl.length, 50) + '...'\r\n\t\t\t\t\t\t\t\t\t\t: fullUrl}\r\n\r\n\t\t\t\t\t\t\t\t\t<CopyToClipboard\r\n\t\t\t\t\t\t\t\t\t\ttext={fullUrl}\r\n\t\t\t\t\t\t\t\t\t\tonCopy={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ copied: true });\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"copy-button\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.copied ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Copied!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-copy\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{originalUrl.length > 100 && !this.state.isOpen\r\n\t\t\t\t\t\t\t\t? originalUrl.slice(-originalUrl.length, 50) + '...'\r\n\t\t\t\t\t\t\t\t: originalUrl}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\r\n\t\t\t\t<Collapse\r\n\t\t\t\t\tisOpen={this.state.isOpen}\r\n\t\t\t\t\tclassName=\"url-list-item-analytics-section\"\r\n\t\t\t\t\tonClick={this.stopPropagationClick.bind(this)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h4>Visits</h4>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<Label for=\"timeSpan\">Time Period</Label>\r\n\t\t\t\t\t\t<Input type=\"select\" name=\"timeSpan\" onChange={this.onChange}>\r\n\t\t\t\t\t\t\t<option value=\"last30days\">30 Day Period</option>\r\n\t\t\t\t\t\t\t<option value=\"month\">Month</option>\r\n\t\t\t\t\t\t\t<option value=\"year\">Year</option>\r\n\t\t\t\t\t\t</Input>\r\n\r\n\t\t\t\t\t\t<Label for=\"unitsBackInTime\">Units Back in Time</Label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"unitsBackInTime\"\r\n\t\t\t\t\t\t\tvalue={this.state.unitsBackInTime}\r\n\t\t\t\t\t\t\tdisabled={this.state.unitsBackInTime > 100}\r\n\t\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{!this.props.loading ? \r\n\t\t\t\t\t(<UrlAnalytics\r\n\t\t\t\t\tisOpen={this.state.isOpen}\r\n\t\t\t\t\ttimeSpan={this.state.timeSpan}\r\n\t\t\t\t\tcode={code}\r\n\t\t\t\t\tunitsBackInTime={this.state.unitsBackInTime}\r\n\t\t\t\t></UrlAnalytics>)\r\n\t\t\t\t\t\r\n\t\t\t\t\t: <Spinner></Spinner>}\r\n\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Collapse>\r\n\t\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n\tloading: boolean;\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartDeleteUrl: (code: string) => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: UrlListItemProps) => ({\r\n\tloading: state.url.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: UrlListItemProps\r\n): LinkDispatchProps => ({\r\n\tstartDeleteUrl: (code: string) => dispatch(startDeleteUrl(code)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UrlListItem);\r\n","import React, { Component } from 'react';\r\nimport { ListGroup, Button, Row, Spinner, Alert } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { startGetUrls } from '../actions/urlActions';\r\nimport CreateUrlForm from './CreateUrlForm';\r\nimport EditUrlForm from './EditUrlForm';\r\nimport UrlListItem from './UrlListItem';\r\nimport { Url } from '../types/Url';\r\nimport { AppState } from '../store';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\n\r\n\r\n\r\ntype UrlListState = {\r\n    showCreateUrlForm: boolean;\r\n    showEditUrlForm: boolean;\r\n\teditingUrl: Url | null;\r\n\terrors: string[]\r\n}\r\n\r\ntype Props =  LinkDispatchProps & LinkStateProp;\r\n\r\nclass UrlList extends Component<Props, UrlListState> {\r\n\tstate:UrlListState = {\r\n\t\tshowCreateUrlForm: false,\r\n\t\tshowEditUrlForm: false,\r\n\t\teditingUrl: null,\r\n\t\terrors: []\r\n\t};\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\tawait this.props.startGetUrls();\r\n\t\tif(this.props.errors.length > 0){\r\n\t\t\t\r\n\t\t\tthis.setState({errors: this.props.errors})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tonToggleCreateUrlForm = () => {\r\n\t\tthis.setState({ showCreateUrlForm: !this.state.showCreateUrlForm });\r\n\t};\r\n\r\n\tonToggleEditUrlForm = () => {\r\n\t\tthis.setState({ showEditUrlForm: !this.state.showEditUrlForm });\r\n\t};\r\n\r\n\tsetEditingUrl(url:Url) {\r\n\t\tthis.setState({editingUrl: url });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst urls = this.props.urls;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t\t<h1>Your URLs</h1>\r\n\r\n\t\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t{index !== this.state.errors.length -1 ? <hr />: null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t{this.props.urlCount} URL{this.props.urlCount === 1 ? '' : 's'}\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={this.onToggleCreateUrlForm.bind(this)}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t\t\t\t\t{' Shorten a new URL'}\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t{this.state.showCreateUrlForm ? (\r\n\t\t\t\t\t\t<CreateUrlForm\r\n\t\t\t\t\t\t\tshowCreateUrlForm={this.state.showCreateUrlForm}\r\n\t\t\t\t\t\t\tonToggleCreateUrlForm={this.onToggleCreateUrlForm.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{this.state.showEditUrlForm ? (\r\n\t\t\t\t\t\t<EditUrlForm\r\n\t\t\t\t\t\t\tshowEditUrlForm={this.state.showEditUrlForm}\r\n\t\t\t\t\t\t\tonToggleEditUrlForm={this.onToggleEditUrlForm.bind(this)}\r\n\t\t\t\t\t\t\turl={this.state.editingUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{this.props.loading ? (\r\n\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<ListGroup>\r\n\t\t\t\t\t\t\t{urls.map(url => (\r\n\t\t\t\t\t\t\t\t<Row key={url.code}>\r\n\t\t\t\t\t\t\t\t\t<UrlListItem\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tonToggleEditUrlForm={this.onToggleEditUrlForm.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tsetEditingUrl={this.setEditingUrl.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t)}\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\ninterface LinkStateProp {\r\n    loading: boolean;\r\n    urls: Url[];\r\n\turlCount: number;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartGetUrls: () => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState\r\n): LinkStateProp => ({\r\n    loading: state.url.loading,\r\n    urls: state.url.urls,\r\n\turlCount: state.url.urlCount,\r\n\terrors: state.url.errors\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n\tstartGetUrls: () => dispatch(startGetUrls()),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UrlList);\r\n","import React from 'react';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport UrlList from '../components/UrlList';\r\nclass Dashboard extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<UrlList />\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport { Container, Jumbotron, Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Home extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Jumbotron>\r\n\t\t\t\t\t<h1 className=\"display-3 text-center\">Shorten URLs. With Style.</h1>\r\n\t\t\t\t\t<p className=\"lead text-center\">\r\n\t\t\t\t\t\tView analytics for shortened URLs, create custom URLs. Up to 100\r\n\t\t\t\t\t\tentries for free.\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<p className=\"lead text-center\">\r\n\t\t\t\t\t\t<Link to=\"/register\">\r\n\t\t\t\t\t\t\t<Button color=\"primary\" className=\"btn-lg\">\r\n\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</Jumbotron>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {\r\n    Container,\r\n    Jumbotron,\r\n    Button\r\n} from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nclass About extends React.Component{\r\n\r\n\r\n    render(){\r\n        return(\r\n            <Container>\r\n                <h1>About</h1>\r\n            <h2>About UrlShortStat</h2>\r\n            <p>UrlShortStat is an app to shorten URLs and track viewership. It is open source through the GNU license and the code is available \r\n                <a href=\"https://github.com/MataMercer/UrlShortStat\"> here</a>. \r\n            </p>\r\n\r\n            <h2>Contact Creator</h2>\r\n            <p>UrlShortStat was created as a personal project by <a href=\"https://github.com/MataMercer\"> MataMercer</a>. If you have any questions, feel free to contact him through email or his Github.</p>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport { Label, Container, Button, Row, Col, Input, Alert, Form, ModalHeader, ModalBody, Modal } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { startEditUser, startDeleteUser } from '../actions/userActions';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { AppActions } from '../types/actions';\r\nimport { AppState } from '../store';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { User } from '../types/User';\r\n\r\ntype SettingsProps = {};\r\n\r\ntype SettingsState = {\r\n\tname: string;\r\n\temail: string;\r\n\tpassword: string;\r\n\tpassword2: string;\r\n\terrors: string[];\r\n\r\n\tshowNameInput: boolean;\r\n\tshowEmailInput: boolean;\r\n\tshowPasswordInput: boolean;\r\n\tshowDeleteModal: boolean;\r\n};\r\n\r\ntype Props = SettingsProps &\r\n\tLinkStateProp &\r\n\tLinkDispatchProps &\r\n\tRouteComponentProps<{}> &\r\n\tReact.Props<{}>;\r\n\r\nclass Settings extends React.Component<Props, SettingsState> {\r\n\tstate: SettingsState = {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassword2: '',\r\n\t\terrors: [],\r\n\r\n\t\tshowNameInput: false,\r\n\t\tshowEmailInput: false,\r\n\t\tshowPasswordInput: false,\r\n\t\tshowDeleteModal: false\r\n\t};\r\n\r\n\tonInputChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase 'name':\r\n\t\t\t\tthis.setState({ name: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tthis.setState({ email: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tthis.setState({ password: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password2':\r\n\t\t\t\tthis.setState({ password2: e.target.value });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tonClickToggleInput = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tswitch (e.currentTarget.name) {\r\n\t\t\tcase 'name':\r\n\t\t\t\tif(this.state.showNameInput){\r\n\t\t\t\t\tthis.setState({name: ''})\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showNameInput: !this.state.showNameInput });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tif(this.state.showEmailInput){\r\n\t\t\t\t\tthis.setState({email: ''})\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showEmailInput: !this.state.showEmailInput });\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tif(this.state.showPasswordInput){\r\n\t\t\t\t\tthis.setState({password: '', password2: ''})\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ showPasswordInput: !this.state.showPasswordInput });\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tonDeleteAccountClick = async () => {\r\n\t\tawait this.props.startDeleteUser();\r\n\r\n\t\tif (this.props.errors.length > 0) {\r\n\t\t\tthis.setState({ errors: this.props.errors });\r\n\t\t}\r\n\t}\r\n\r\n\tonSubmitAccountChanges = async (e: React.SyntheticEvent) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst errors: string[] = [];\r\n\r\n\t\tif (this.state.email && this.state.email.length === 0) {\r\n\t\t\terrors.push('Please enter a valid email.');\r\n\t\t}\r\n\r\n\t\tif (this.state.password && this.state.password.length < 6) {\r\n\t\t\terrors.push('A password must be at least 6 characters.');\r\n\t\t}\r\n\r\n\t\tif (this.state.password && this.state.password !== this.state.password2) {\r\n\t\t\terrors.push('Passwords do not match.');\r\n\t\t}\r\n\r\n\t\tif (errors.length > 0) {\r\n\t\t\tthis.setState({ errors });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tawait this.props.startEditUser({\r\n\t\t\tname: this.state.name,\r\n\t\t\temail: this.state.email,\r\n\t\t\tpassword: this.state.password,\r\n\t\t\tpassword2: this.state.password2,\r\n\t\t});\r\n\t\t// if (error)\r\n\t\t// \tthis.setState({ formErrorMessages: error.response.data.message });\r\n\t\t// else this.props.history.push('/dashboard');\r\n\t\t//redir\r\n\t\tif (this.props.errors.length > 0) {\r\n\t\t\tthis.setState({ errors: this.props.errors });\r\n\t\t}\r\n\t};\r\n\r\n\tonToggleDeleteModal = () => {\r\n\t\tthis.setState({ showDeleteModal: !this.state.showDeleteModal });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<h1>Account Settings</h1>\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<Form onSubmit={this.onSubmitAccountChanges.bind(this)}>\r\n\t\t\t\t<h4>Account Information</h4>\r\n\r\n\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t{this.state.errors.map((message, index) => (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t{index !== this.state.errors.length - 1 ? <hr /> : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Label>Email</Label>\r\n\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t<Col md=\"3\" className=\"text-right\">\r\n\t\t\t\t\t\t{this.state.showEmailInput ? (\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tthis.props.email\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button size=\"sm\" name=\"email\" onClick={this.onClickToggleInput}>\r\n\t\t\t\t\t\t\t{this.state.showEmailInput ? 'Cancel' : 'Change'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Label>Username</Label>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"3\" className=\"text-right\">\r\n\t\t\t\t\t\t{this.state.showNameInput ? (\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tthis.props.name\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button size=\"sm\" name=\"name\" onClick={this.onClickToggleInput}>\r\n\t\t\t\t\t\t\t{this.state.showNameInput ? 'Cancel' : 'Change'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Label>Password</Label>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"3\" className=\"text-right\">\r\n\t\t\t\t\t\t{this.state.showPasswordInput ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>*Passwords must be at least 6 characters.</p>\r\n\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<p>*Please retype your password.</p>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tid=\"password2\"\r\n\t\t\t\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.password2}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'******'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button size=\"sm\" name=\"password\" onClick={this.onClickToggleInput}>\r\n\t\t\t\t\t\t\t{this.state.showPasswordInput ? 'Cancel' : 'Change'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\tthis.state.email || this.state.name || this.state.password\r\n\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t: true\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\tSave Changes\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<h4>Account Deletion</h4>\r\n\t\t\t\t<Button color=\"danger\" onClick={this.onToggleDeleteModal.bind(this)}>Delete Account</Button>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tisOpen={this.state.showDeleteModal}\r\n\t\t\t\t\ttoggle={this.onToggleDeleteModal.bind(this)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t<ModalHeader fluid=\"sm\" toggle={this.onToggleDeleteModal.bind(this)}>\r\n\t\t\t\t\t\t\tDelete Account\r\n\t\t\t\t\t\t</ModalHeader>\r\n\t\t\t\t\t\t{this.state.errors.length > 0 ? (\r\n\t\t\t\t\t\t\t<Alert color=\"danger\">\r\n\t\t\t\t\t\t\t\t{this.state.errors.map(message => (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<p>Are you sure you want to delete your account? All saved data will be deleted. This cannot be undone.</p>\r\n\t\t\t\t\t\t<Row className=\"text-center\"><Col className=\"text-right\"><Button color=\"danger\" onClick={this.onDeleteAccountClick.bind(this)}>Yes, delete my account</Button></Col>\r\n\t\t\t\t\t\t<Col className=\"text-center\"><Button color=\"secondary\" onClick={this.onToggleDeleteModal.bind(this)}>Cancel</Button></Col></Row>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t</Modal>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n// \tloading: state.user.loading,\r\n// \tname: state.user.name,\r\n// \temail: state.user.email,\r\n// });\r\n\r\n// export default connect(mapStateToProps, { editUser })(Settings);\r\n\r\ninterface LinkStateProp {\r\n\tname?: string;\r\n\tloading: boolean;\r\n\temail?: string;\r\n\terrors: string[];\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n\tstartEditUser: (user: User) => Promise<void>;\r\n\tstartDeleteUser: () => Promise<void>;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: SettingsProps\r\n): LinkStateProp => ({\r\n\tname: state.user.name,\r\n\tloading: state.user.loading,\r\n\temail: state.user.email,\r\n\terrors: state.user.errors,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n\tdispatch: ThunkDispatch<any, any, AppActions>,\r\n\townProps: SettingsProps\r\n): LinkDispatchProps => ({\r\n\tstartEditUser: (user: User) => dispatch(startEditUser(user)),\r\n\tstartDeleteUser: () => dispatch(startDeleteUser())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store';\r\nimport { AppActions } from '../types/actions';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\n\r\ntype PrivateRouteProps = {\r\n\tcomponent: React.ReactType;\r\n\texact: boolean;\r\n\tpath: string;\r\n};\r\n\r\ntype Props = PrivateRouteProps & LinkStateProp;\r\n\r\nconst PrivateRoute = ({ component: Component, name: Name, ...rest }: Props) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props =>\r\n\t\t\t\tName ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\tpathname: '/login',\r\n\t\t\t\t\t\t\tstate: { from: props.location },\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\ninterface LinkStateProp {\r\n\tname?: string;\r\n}\r\n\r\nconst mapStateToProps = (\r\n\tstate: AppState,\r\n\townProps: PrivateRouteProps\r\n): LinkStateProp => ({\r\n\tname: state.user.name,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Component } from 'react';\r\n\r\nimport Login from '../pages/Login';\r\nimport Register from '../pages/Register';\r\nimport Dashboard from '../pages/Dashboard';\r\nimport Home from '../pages/Home';\r\nimport About from '../pages/About';\r\nimport Settings from '../pages/Settings';\r\nimport { Route, Switch, RouteComponentProps } from 'react-router-dom';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nclass Routes extends Component<RouteComponentProps, {}> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<TransitionGroup>\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tkey={this.props.location.key}\r\n\t\t\t\t\ttimeout={400}\r\n\t\t\t\t\tclassNames=\"fade\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Switch key={this.props.location.key} location={this.props.location}>\r\n\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\r\n\t\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\r\n\t\t\t\t\t\t<Route exact path=\"/about\" component={About} />\r\n\t\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\t\texact={true}\r\n\t\t\t\t\t\t\tpath=\"/settings\"\r\n\t\t\t\t\t\t\tcomponent={Settings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\t\texact={true}\r\n\t\t\t\t\t\t\tpath=\"/dashboard\"\r\n\t\t\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</CSSTransition>\r\n\t\t\t</TransitionGroup>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Routes;\r\n","import React, { Component } from 'react';\n// import logo from './logo.svg';\nimport 'axios-progress-bar/dist/nprogress.css';\nimport './stylesheets/main.scss';\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport AppNavbar from './components/AppNavbar';\nimport Routes from './routes/Routes';\nimport { connect } from 'react-redux';\nimport { checkUserSession, startCheckUserSession } from './actions/userActions';\nimport { Spinner, Container } from 'reactstrap';\n// import { loadProgressBar } from 'axios-progress-bar'\nimport { AppState } from './store';\nimport { AppActions } from './types/actions';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { Route, RouteComponentProps } from 'react-router-dom';\n\ntype AppProps = {};\n\ntype AppCompState = {};\ntype Props = AppProps & LinkStateProp & LinkDispatchProps;\nclass App extends Component<Props, AppCompState> {\n\tcomponentDidMount() {\n\t\tthis.props.startCheckUserSession();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t{/* {loadProgressBar({ showSpinner: false })} */}\n\t\t\t\t<AppNavbar />\n\t\t\t\t{this.props.loading ? (\n\t\t\t\t\t<Spinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Container className=\"page-content\">\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\trender={(locationProps: RouteComponentProps) => (\n\t\t\t\t\t\t\t\t<Routes {...locationProps} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Container>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\ninterface LinkStateProp {\n\tname?: string;\n\tloading: boolean;\n}\n\ninterface LinkDispatchProps {\n\tstartCheckUserSession: () => Promise<void>;\n}\n\nconst mapStateToProps = (\n\tstate: AppState,\n\townProps: AppProps\n): LinkStateProp => ({\n\tname: state.user.name,\n\tloading: state.user.loading,\n});\n\nconst mapDispatchToProps = (\n\tdispatch: ThunkDispatch<any, any, AppActions>,\n\townProps: AppProps\n): LinkDispatchProps => ({\n\tstartCheckUserSession: () => dispatch(startCheckUserSession()),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAJp3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZhpkiUpDoT/c4o5ApsQHIdFmM0N5vjzKV7uVdXdYzYvKjPyEQRI7pJLVLD//PuGf/HJLdVQRXsbrUU+ddSRJ3/0+PrU53d67uk1dN4e8f3beHh/kDJD5fPB+734C5mv7e27ve7y2iQ2a7edlkIrWnLMJ2OPDzRtwt+7XRUm8c3ffn6+b9Q+NsxuWXh/oG87MZy/mrxyHPHL597T77WXx7M24PAlU3h8fZZv7xMX4JQHqcal/Ah/63MNrh5n3KkC146La6eRckgl3lTTSTPdZM99p41ZNVtW7jnvXJ6xXjSPvAu4lepXulnLKKf0kkPZ2UphOH/Ykp59x7PfTp2dT2JqTiyWSv79Ff704H+9noXu3Y5X8vjxMJoPRzk79MkxLP6bWZCQ7htX8qD7fsHa94+TWWBNHpg7Ds64XkssSS9WPQzKw21hnnCvr4WSnrcFgIi9BWNSgYHYUpHUUtScNSVw7BA0sTyXmhcMJJF8MDLXUEqDnO7RMnlH0zM3S34NkzIQIcXjtsPQhKxahfjR2omhKUWqiLQgKl2GzFZabdIasey5N7VoVdGmql2Hzl567dJb19776HPkUUhNGW3o6GOEMSebTpaevD2ZMefKq6y6ZLWlq6+x5iZ8dt2y29bd99jz5FNOPXLa0dPPCGdaMkLJqok1U+s2bF5i7ZZbr1yS7vY77vxgLb1l3rfrI9f+EWvpjbX8MOXz9JM1hlXfl0iuMeKcwViuCcbVGSCgs3MWe6o1O3POWRyZpJCMkRKcnJOcsQwhlrLc9MHdJ3N/y1uQ9o95y3/FXHDq/h/MBacO5n7l7TesHU/E/TD2ykLHNBayzyToTojjWtLzbungDMJRl+tvtJE2+jH7YjzqOqptziSVoZjqQ9GOr4HQBVGGDxKfWUIELyuwJa2mKvzLwN0n/3zan+/hdw/APO4p0mOeShp2iweVtVJvFJlnS99ngsBqlsua/WYLN+2G01ul7GhXjhFG6DWv49ZpYxA/8LNKas8+FeV4bI1+36NJ7YRaGK0Wj9nKzEu0zkM83J2lTAQPbPnl9wXq13iznimQyFoSVzpN6z24ENjmZIu121yr9zN36WSEyJ0Rjb8tuhkZBf8KwOxitmSqjVNib2bBatWc5OxIeSwbBsuZBBcxpPmeJN3tuXFU6yRdubtco0z4aJc2t+RZT5yhrjTOxp406oWzk2GfOOt6HiTw/yEPpn/chVBkUTRVWRaplY2uX1fZIkbA29I5gannTCza6sWfWs9tbdJuUstaftInWWz+bKAMYeuFWuYixdPuXB3FKb6OTCu+DtscvFA9tZyNxdScl1V1gNUbg0jtuLf7K7Vo8lXXfFmA5daTGFaB/x2R+PEnDrPfJx4g/XvPpTsGRVDcGea4M3u5EZmX+eKurNNuXS8HqozH/uo2YghqtIvZXlolPBae/M8QfeCEw9/AGT7w/DOajuUHlO7S78AMLzS9pftbPB84iZ6fgD5whq94Og4Poi88v6P5BUwS5xc4wxc8v6HpNv7A81c4M8KNoNKInOBDqH8dIxm5tPt1NxJCXl9L27Mouva2+NGRRecxUC5t0BRPoC0hFpc0vcNnNIpm401Tsvot55ujnymnJ52oPeFQ5WtyDuNbxOW1glFp10YQL63cnNUOGp9pMHeuMdusqp7SLx+SWVuVxHZtqi/rX09G8L7lxyD8TNIcyXNyEcGHdNrll3MDvbnPfNlZO6XEdKwgSAbY0OZSQyO4YVXf7Dxdvzo8dGpE+wtCXoiE9oD5BopDQsW4dd+hda5Czx579y5BCQE2HIhOPGc0++FGoAYTmpRMKITXF3exjE1g3kPsjZNQ1rvw02toplKZTtvyfUL4nNGpbtlsZIKltV1pIuisU/pg5sjdq14DNBNy7cKEgzhZwcKioHykyDyCvTZoNkoBikSpqSe36GcmDGFBtBOA5NPIB5qtIa7h3X6x8UqSV8jdU8Q1uKndvj7foiPRq51Aow+RUgigpM9YeAb9rGR0aRvHoD9/Q4BotUi5RMQ5V5DNmEZhqLrys6XOeDsNO4FK++uMKqvVVYdtok7cBmKPknM90TNtRT8CbZMtUHjKsOVH4vB17uCpYxNoAfh28Lmtjwe1SjNNrzVoSMjWP5FI5W7uX/h0+lf/XiWx5VeNxAQv+rPFQ7JxK7mVIWDpahJI7HlJ4X0r90XVpVM6Aia4cI7RuisTiXTv9YTAJPp1t0EZHtNPqBU5HbR+HYZGugedpWrDk+hC/6jwsjl3kdRjo5xa7vFq0J9DAkndXXIRSILTFQo98s7qU00n1rEHcdgV6xcxc8boZA88XQ6Cax/8GaeTlZzO89NujRyImmkNiGf2sO1IK+G6Co3JTRO5WwcxWI0elH5ikuP2vIgDSuN6Ttk0j9twbWz6Q/QYO0kwPaQrPIyaOHTSu9JJIAfISNZJs00kv/dykrZ96G74Wc/otGjSqEQpH1rflulO6YbNZKNIRN0DZy/Tm5qDtEwV26pB4rhjxEsLlxIlJLfOs2x03hsxpd+lWxqWlEiEBluk0HEWax8wMMyAjjSlrZl4dduak+fDKWnXE5SAELdAPesn4BruEpiJVpKzBecLPyUe9NnjpoWFqHN0QNK8+6b51UIHXlsiSAs9/UHZUNNOQzY0L9suwMBgprShKRunAnS+hyi9+/+MIItQiyKXncokCpHX8VQSJY6o9gLZiDK9Xss7cWYiykunuxelXNzA0YWda8YKUmSXYmlw6OGHfBml2bFWIA84LscXjgkJ0Z4bR9uZyLzqim1sZITXcHVc39ZbfsS6eNxTIPAhgq4Qx2xrqkR2OS6YBNm+BiHAdjnyaMjMPntQ2em+kVkOUlBMLy2YRWUkWOU9e+vXDvvH/YkjtEoWvt2mJTq+0gA3HbzNCzIj29M4J9SBPWnsz0WhxLWUFlY4uGsKnJaIIGQoaR+36hjeVHX6J0o06n/3nNZPnfv1RKJ50Bn111wOiLhCkJ9wpXr+PjOFXhm5Jw1bRZbypCEwdDGZxw1/LrbiXXQRwSwuU4awCAFeA0dWXu3mjkzplfoB+MsocexLKsCucgJ4+qQmY9bmSB7P3nrcJhziQEqllfXWk+3xLoXvdy+xe3LApbHiANc5hlHOPEZyXzo4fOTlIhWrhrKpWlQV0gldYBqOTg7QVAvhVcj2AxHizCFzb3kdTMavzWv4Qzf7m3tOvJ6y/xdAmaOQ0NCjWwi61FbILnZ7WRMCPhOxAAbzd6TDSRT1XKMsL8b3jPBf2ptPz28dpKgAAAAJcEhZcwAADsQAAA7EAZUrDhsAAA4FSURBVHic7d1JcFv3Ycfx73sAF3ABF1ESF1GiTFLUXknWYilWmjQjK542zYzTgw/NrSfHh2ZySptj41566MHxqdNLfehMmzht0jaK69YTuTZFbY4sat8oLgJFEiRBEiRB4L0eICU0REuy/n8RwMPvM6PRiKT+/pvCl+/hLf/n/PStv+MpvAm0AzuAo0D0af6SSJFJACeBfmAQePtxX9x15CDhJwz4BnAcOAg025ihSAGLAn/84FcMOAacAN75or/wuIB+CHwfaARC9uYoUhSayYZ0GKgD/nalL3Jz/uwA3wV6gR8Da1E8UrpCZBv4MfAJ2Tac5V+QuwX6c+Cvge7cLxQpYQ7ZtzENgA+8+/ATuVug75GNJ/fjIqXOJdvGG7kffOivyFameERW5gIvkT0+8LsPQLaqv0S7bSJP4pA9uPYG/D6g42SPtonIkzWSbQaX7EnSg+hom8jTCpFt5nsu2SsMdJJU5MtpBja6wM58z0SkGM0nZne4wMv5nohIMRruv3zURReGijwb34/qnI+IAQUkYkABiRhQQCIGFJCIAQUkYkABiRhQQCIGFJCIAQUkYkABiRhQQCIGFJCIAQUkYkABiRhQQCIGFJCIAQUkYkABiRhQQCIGFJCIAQUkYkABiRhQQCIGFJCIgSc9pbuo/MOvfkFift5ojG0bN3Fsz37CIT2sYrlUeom3f/Ge8TjRSIS/+Oa3LMyoMAQqoOTiItPzSaMxltJpS7MJGB/j7y1A2A3WTk+w/m9EVpkCEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjEQnvXS+Z6DNX+wfz9LXsZojKpwmDk/Q8jzLc0qGNKOx9GjR43HKXNDBOk1F+5bmMr3HKx57TuvEQ6FjMa4E7vH2UufkUmZhRg0VRWVvP7668bjpDMZfvY/v7Ywo8IQvpdZyvccrHCAhoYGysJho3HGkrOM+xkWAvJ9sWWNU0FjY6PxOEvpNEF5zYHeA4kYUUAiBhSQiAEFJGJAAYkYUEAiBhSQiAEFJGJAAYkYUEAiBhSQiAEFlCMcCuHg5HsaUiQUUA7HUTwr8nV7x0oCE5Ctf96ycBhXEclTCkxAtpSHy7QVWoG2PytTQDmqKioJufq2yNPRKyVHTSRCWAE9wtd7oBXplZKjLBTC1VG4R9jarZ1bmLcyTqFQQDl838fXHv8jTG+Vf2h0atLKOIVCAeVQOiurLCuzMk4sHrcyTqFQQDk8z1NEK2ioqbUyzv3JCSvjFAoFtBK9YX5Ed1u7lXGW0sFZEw4CFlDGcFHFh5TPo9qb1uV7CgUpUAHdHo1ZGafMcHHGIAq5+p6sJFABXb17x8o49dU1VsYJCh/wfK3UupJABZRcWLAyTmfrBivjSPAFKiBbtrVvzPcUCkp9JGLlRKrn+4G7okEBrUAXk37evs1dVJZXGI8zeD/G2OyMhRkVDgW0At/z8QL2k9JEe9M6yi2cSL0fjzM9n7Qwo8IRqIDml1LMWvgHclyH+kiVhRkFQ8bLWNn18jwvcD+YAhXQyPQU1wbvGo9TWVHBga4eCzMqfpHycsKWroMLokAFlM5kWFoyf/ZMWShMa4P5s3CCYFtzG61Na/M9jYIVqIBs8nxfBxOAmsoIEQsHEOKJBJeGzfcOCk3gAkqmFlnKmF9vtba+ga616y3MqHiFXJeqSKWVS5uSC/PcGR+zMFJhCVxAFwcHmEwkjMdprKujpcR342orKtm5uTPf0yhogQtofHaGlIX3Qb7vU1tVXdK3d5eHQ9RWVRuP4wMLqZT5hApQIF8dGc+zMs7hnbtL+nD2V7btsjJOOp3mnz/+0MpYhSaQAZ2/cY1Mxvzix0wmw/aNHeYTKkKO49DZ2mZpNJ+ldDAvRg1mQHdv4/l2tkJ7O7tL8vaGb794iOrKiJWxZueDtZDIcoEMCGBqbs7KONHqGr62fbeVsYpFU3UNa+sbcC29//uP3o+tjFOIAhtQ35V+K+OEQyF2v9DF9hZbuzOFr6u5lRZLJ0993yfIp9MCG9BkIoFn6WBCtLqazc0tJXFErqm6hm/sO2BtddaLt24wEB+3MlYhCuwrYnh6kiuDA9bGO7htJ0e6tlobr1Dt6ei0cuU1ZLc+M8kkiwFbSGS5wAaUTKVIzNi99+Sre/bxUucWq2MWkq9v3clLO+wcugaYmpnhxr1ha+MVosAGBNB7/QqjE/bWISsLhzmwdQc9za2BegiX4zjs3bSZA9t3WluBFGByJsHN8fvWxitEgQ5ocj5JbHLC6m3ETXV1HN9/iF3tm6yNmW8729r5w917qa6stDZmammJf/zwfWvjFapABwTw/oXzpC2cVF1uTbSOV/Yf5Otbd1gdNx++2rODYy8eoqE2anXcS3duEQry4bcHAh/QzMI8529csz5ubaSKI7v38JWuHiqK8Iaz8lCIl7u2cnT3Huqqza93Wy6dyXDh9k2rYxaq4vuXfwa/vXWdng3t1Fla3/mh8nAZrxw8TOeGjZy6fJGro/esjv+89KxvYW/XFrZt2mx9bB/ou3SRG+P3A/Qu8YuVREBDU5NcunObwzufzxUFna1tNEWjvDgxwS/P9JJYtLM+nW3Rikr+ZP8hmtc0Wf9h8tD0TIJbsXslEQ+USEAAfTeusml9M61rn88az3U1tdTV1NLS1MRA7B6//vQsyaUUaUsnc59VdXk5ZaEw39i1l47mFqI1z2/V1aV0mn/96EMGJ4P1CJPHKZmA4sk5fnX+DN/9o1esHqrNFa2uYVdnN7s6uzlz9TLjU5MMxScYmoqv2qKClWVl7N2Y3T07tH2n9QMEX2Rk/H5JxQMlFBDAwPh9+m/fZE/36qy4s79nGwD3J+PEp6fxfI/+uwP0Dw9afQqe7/t0Nbdw4MFJ3rJwmM629lVd02FwNMbPe/9v1f57haKkAgL4r/OncYDdXVtW7QW2rqGRdQ9uD+9oaePYUvbuTM+HRHKO3iv9DE2Mk30L7jxy8aXvg092Wdy1dQ3sfaGTDU3rCLnZp7n6ZA9oVEfs3H7wZY2M3ednn5wknrRzBXwxKbmAFtJpPrj4W+qjdWxc37zqb3arKiupWnbCsjEapaO5ZZVnYU9ibo6fn/6kJOOBEjgPtJLp+SSnLl8kFdD79FfLQirFqSv9gXtw8JdRkgEB9I8M8cG5vsA9cnC1zC0s0HvpM/qew0nqYlJyu3DLnbp1g3TG4+juPdTX1GohxacUi0/wwafnuBYL9pXWT6OkAwI4O3CL2cVF9nf3sEXPBXqiwdEYvzzdSywxle+pFISSDwjgamyYkak4rywusKuzW1uiFfi+z73xMd775CQTJXrAYCUK6IGZhXl+2vcxS+k0L7RtWLWTj8VgenaWmyND/NuZ3nxPpeAooBz/fq6PjoHbHNvzIu3rm0v+kfcT01OcOHOqaC6UXW0KaAV3JsZ4r/cj2hrX8OrBI1SWl5fUbp3v+3i+x/+eO8Ot0RjD06V7mPpJFNAXGJ+bZXxuluujMb62Yzfdbe001Ab/SN1Mco7bIyO8/9l5EgF7HOPzoICeIJla5D/Pn2bT3Tvs2thBR0sra+sb8j0t6+YW5rk1PMSVobtcHB7M93SKhgJ6SgMTYwzGx2m+VUdTTZRvHTlKyHVxXbdot0oZz8N1HH7z6Tluj8UYnpokpRPLX4rz2g9/UOrvk59ZTUUFr+49wJpoHbVV1dRWV6/aLQvPaimdZnImwWIqxW/6L3D13nDR/gAoBNoCGZhdXORfej/CcRx2tbXTsa4Z13XZ1NzKmrq6gokp43kMjsYYn5pkbnGBs3duMp3Mvr9RPGYUkAW+73Nh6C4Xhu4Scl1aovXUVVXh+z4ta5rY191DVWUE/+HdqY6D6zjWXryen73VgQfBuq7L6GScs9euMDufxPN9RhPTTOoEqHXahVtFnu9TFgqzvraW7Zs207m+lXA4RMbz8D0fnvqsk4PjOoRcl1Q6zfWRIS7fHWBsNkH6wfsaWR3aAq0i13HIeBlGpqcYuXCe/+b85z7v+7+/TzU3JWfZ74/bcime1aWACojjBGnB4NJQsvcDidiggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjGggEQMKCARAwpIxIACEjHgAol8T0KkGDmOk3CBj/I9EZFi9Oq+gydd4GK+JyJSjNbU1fW7wCAQy/dkRIpMDBh0gbeBPiCT3/mIFI0M2WbeDv/pwSOEXPfEmWuXDw/GJ9bme2Yiha69cU18/5ZtJ3o6NhP+s+PfxMF5Z3p2pn4wPvE3oKXJRB7D727d8PevHTv+TkVFBW51pIqqSIRwOPwW2c2Sl+8ZihQoD+gLh8NvVUUi2cfb5HzBT4AbKCKRXB5wnWwjv5O7tO+7D35/EziAdudEILtU+Wmy8by7/BO5WyAf+CfgEPAjYAwdnZPSlSHbwI+Al8i28bl1/x+3uPxbwDRwnOzWqPn5zFGkIMXIbnVOkLPbttyTns7wkwe/3gTagV3Ay0CtnTmKFJQZ4CTZq3MGyZ4jfaz/Byvfvhu65z7+AAAAAElFTkSuQmCC\""],"sourceRoot":""}